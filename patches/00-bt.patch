474d473
<             var rv = [];
475a475
>             var rv = Array(d.length);
480a481,483
> 
>             var i_y = 0, i_t = 0, i_m = 0, i_g = 0, i_a = 0;
> 
485,486c488,489
<                     var z = y.shift();
<                     switch (t.shift()) {
---
>                     var z = y[i_y++];
>                     switch (t[i_t++]) {
489,490c492,493
<                             m.shift(),
<                             g.shift()
---
>                             m[i_m++],
>                             g[i_g++]
495c498
<                         q[z] = a.shift();
---
>                         q[z] = a[i_a++];
505c508
<                 rv.push(q);
---
>                 rv[i] = q;
